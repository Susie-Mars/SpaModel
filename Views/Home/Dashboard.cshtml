@{
    ViewData["Title"] = "Spa Model";
}

@model MyViewModel

<div class="border-left border-right border-dark bg-light">
    <div class="d-flex border-bottom border-dark w-100 justify-content-between navBar2">
        <h1 class="">Spa Model</h1>
        <div class="d-flex gap-3 align-items-end">
            <a href="/bodytreatments" class="link-light mb-2">Body Treatments</a>
            <a href="/facials" class="link-light mb-2">Facials</a>
            <a href="/nailservices" class="link-light mb-2">Nail Services</a>
            <a href="/" class="link-light mb-2">Home</a>
            <form asp-action="Logout" asp-controller="Home" method="post">
                <input type="submit" value="Logout" class="btn btn-sm btn-light m-2 btns">
            </form>
        </div>
    </div>
    <div class="d-flex justify-content-around m-3 ">
        <div>
            <h2>Create a new Post</h2>
            @await Html.PartialAsync("_NewPosting")
        </div>
        <div class="w-50">
            <h2>Your current posts</h2>
            @foreach(Posting p in ViewBag.AllUserPosts)
            {
                <div class="border border-dark m-2 p-1 serviceDiv">
                    <p>Service Type: @p.ServiceType</p>
                    <p>Location: @p.Location</p>
                    <div class="d-flex gap-2">
                        <p>Website:</p>
                        <a href="http://@p.Website">@p.Website</a>
                    </div>
                    <div class="d-flex gap-2">
                        <p>Date: @p.Date.ToString("MM/dd/yyyy")</p>
                        <p>at @p.Time.ToString("h:mm tt")</p>
                    </div>
                    <div class="d-flex gap-2">
                        <p>Contact Info:</p>
                        <a href="mailto: @p.ContactInfo">@p.ContactInfo</a>
                    </div>
                    
                    <p>Service Description: @p.Description</p>
                    <div class="d-flex justify-content-end align-items-center gap-3 p-2">
                        <a href="/posts/@p.PostingId/edit" class="link-dark">Edit</a>
                        <form asp-action="DestroyPost" asp-controller="Home" asp-route-postId="@p.PostingId" method="post">
                            <input type="submit" value="Delete" class="btn btn-light border border-dark text-dark btns btn-sm">
                        </form>
                    </div>
                </div>
                <div>
                    

                </div>
            }
        </div>
    </div>
</div>